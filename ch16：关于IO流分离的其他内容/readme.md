# I/O流分离
两个分别用于读写的FILE*指针共同对应一个套接字，任意fclose一个，都会销毁套接字从而完全关闭了连接。

解决方案：创建FILE*前，**先复制文件描述符**

dup/dup2：后者可以指定得到的文件描述符整数是多少

>P264重要提示：通过`shutdown`发送EOF并进入半关闭状态

